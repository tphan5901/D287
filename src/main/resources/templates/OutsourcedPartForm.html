<!DOCTYPE html>
<html lang="en">
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Part Form</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<h1>Outsourced part Form</h1>

<form action="#" id="partForm" th:action="@{/showFormAddOutPart}" th:object="${outsourcedpart}" method="POST">
    <p><input type="hidden" th:field="*{id}"/></p>
    <p>Name  <input type="text" id = "name" th:field="*{name}" placeholder="Name" class="form-control mb-4 col-4"/></p>
    <label for="price">Price <input type="text" id = "price" th:field="*{price}" placeholder= "Price" class="form-control mb-4 col-4"/></label>
    <p>Inventory <input type="text" id = "inventory" th:field="*{inv}" placeholder="Inventory" class="form-control mb-4 col-4"/></p>
    <p>Min  <input type="text" id = "min" th:field="*{minimum}" placeholder="0" class="form-control mb-4 col-4"/></p>
    <p>Max  <input type="text" id = "max" th:field="*{maximum}" placeholder="100" class="form-control mb-4 col-4"/></p>
    <p>Company <input type="text" id = "companyName" th:field="*{companyName}" placeholder="Company Name" class="form-control mb-4 col-4"/></p>

    <p><input type="submit" value="Submit" /></p>
</form>

<script>
    document.getElementById('partForm').addEventListener('submit', function(event) {
        let name = document.getElementById('name').value;
        let inv = parseInt(document.getElementById('inventory').value);
        let min = parseInt(document.getElementById('min').value);
        let max = parseInt(document.getElementById('max').value);
        let price = document.getElementById('price').value;
        let companyName = document.getElementById('companyName').value;

        if (!name || isNaN(inv) || isNaN(min) || isNaN(price) || isNaN(max) || !companyName) {
            alert('All fields should be filled out correctly.');
            event.preventDefault(); // Prevent form submission
            return; // Stop further execution
        }

        if (min > max) {
            alert("Min cannot be greater than Max.");
            event.preventDefault();
            return;
        }

        if (inv < min || inv > max) {
            alert("Inventory must be between Min and Max.");
            event.preventDefault();
            return;
        }
    });
</script>

</body>
</html>